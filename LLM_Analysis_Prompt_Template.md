# LLM Repository Analysis Instructions

**Role:** You are an expert software engineering assistant.

**Task:** Analyze the provided repository artifacts to understand the codebase's structure, purpose, and key components. Synthesize your findings into a structured Markdown report named `repo-rt.md`. This report will serve as our shared reference for future discussions about this repository.

**Repository Location:** The repository being analyzed is located on the local filesystem at the absolute path:
`[PASTE YOUR REPOSITORY'S ABSOLUTE PATH HERE]`
(Example: `/Users/yourname/projects/my-cool-project`)

---

**Artifacts for Analysis:**

Please process the following artifacts in this specific order to build your understanding:

**Artifact 1: Main Project README.md Content**
(This is the primary README for the repository being mapped, NOT the repo-mapper README. If its full content was included in the selective map (Artifact 4), you can note that you will refer to it there. Otherwise, its content is provided below.)

```markdown
<PASTE CONTENT OF YOUR PROJECT'S MAIN README.md HERE, OR STATE IF FOUND IN SELECTIVE_MAP>
```

**Artifact 2: Repository Text Tree Structure ({repo_name}-structure.txt)**
This provides a human-readable, hierarchical view of the directory and file structure. Use this for a quick visual understanding of the layout.

```
<PASTE FULL CONTENT OF {repo_name}-structure.txt HERE>
```

**Artifact 3: Scan Report CSV ({repo_name}-scan_report.csv)**
This CSV file provides detailed metadata for each file processed, including size, lines of code (LOC), timestamps, extension, and crucially, the 'Content Status Detail' and 'Processing Notes'. Use this to understand why content was included, truncated, or omitted in the Selective Content JSON Map (Artifact 4).

```
<PASTE FULL CONTENT OF {repo_name}-scan_report.csv HERE>
```

**Artifact 4: Selective Content JSON Map ({repo_name}-selective_map.json)**
This JSON file contains the full repository structure. For key files (identified by heuristics), it includes their full or truncated content in the _content field. Other files may only have metadata (_status, _loc, _notes). This is your primary source for file content analysis. Refer back to the Scan Report CSV (Artifact 3) for context on content status. Do NOT attempt to analyze the HTML map (*-mapper.html) as it is for human use and too large.

```json
<PASTE FULL CONTENT OF {repo_name}-selective_map.json HERE>
```

## Your Task: Generate repo-rt.md Report

Based on your analysis of ALL the provided artifacts (Artifacts 1-4), generate the content for a Markdown file named repo-rt.md. This report should be a concise yet comprehensive summary of your findings, structured as follows:

# Repository Analysis Report: [Inferred Project Name]

*Generated by AI based on repo-mapper artifacts*

## 1. Project Overview

*   **Project Name:** [Inferred project name from JSON root key]
*   **Repository Path:** `[Absolute path provided in instructions]`
*   **Summary:** [Synthesize the project's purpose and primary functionality based on the main README.md and high-level structure.]
*   **Key Technologies:** [List programming languages, frameworks, tools apparent from file extensions, dependencies (e.g., in `pyproject.toml`, `package.json`), and file content.]

## 2. High-Level Structure & Key Directories

[Describe the purpose of major top-level directories (e.g., `src`, `tests`, `docs`, `scripts`, `config`, `output`) based on common conventions and the text tree/JSON structure.]

## 3. Key Files & Modules Analysis

[Select up to 5-10 critical files that are central to the project's functionality or architecture. Prioritize files whose content was included (Full or Truncated) in the Selective Content JSON Map. For each selected file:]

*   **`[Relative File Path]`**
    *   **Inferred Purpose:** [Briefly describe what the file likely does based on its name, location, and content (if available).]
    *   **Content Status:** [State the content status from the Scan Report/Selective Map: e.g., Full (High Priority), Truncated (Uncertain/Large), Omitted (Excluded Type), etc.]
    *   **Key Observations:** [Mention any significant imports, class/function definitions, configurations, core logic snippets, or other notable findings from the embedded content.]

## 4. Configuration & Entry Points

*   **Main Entry Point(s):** [Identify potential main application entry point(s) based on names and location (e.g., `main.py`, `app.py`, files in `cmd/`).]
*   **Key Configuration:** [List key configuration files identified (e.g., `Dockerfile`, `docker-compose.yml`, `pyproject.toml`, `.env.sample`, files in `config/`). Briefly summarize their role if content is available.]

## 5. Data Management & Schemas (If Apparent)

[List any files or directories that appear to define data models, schemas (e.g., `.json` schema files, Pydantic models, database migration scripts), or database interaction logic.]

## 6. Testing & Build/Deployment (If Apparent)

*   **Testing:** [Describe the apparent testing strategy based on the presence of a `tests/` directory, test file names, or content in test files (if available).]
*   **Build/Deployment:** [List files related to building, packaging, or deploying (e.g., `Dockerfile`, `Makefile`, CI configuration files like `.github/workflows/`).]

## 7. Areas for Deeper Review

[Based on your analysis and the Scan Report CSV, list up to 5-7 relative file paths that were 'Truncated' or 'Omitted (Uncertain/Large)' whose full content you believe would be most beneficial to review next for a deeper understanding of the codebase. Briefly state your reasoning for each.]

## 8. Overall Impressions

[Provide a brief assessment of the project's apparent size, complexity, and organization based on the artifacts.]

---
**LLM INSTRUCTION PROMPT END**
---

**Important Notes for the LLM:**

*   Process the artifacts in the order given.
*   Synthesize information across artifacts (e.g., use the CSV to understand the content status in the JSON map).
*   Do not include the raw content of the artifacts in your `repo-rt.md` report, only the synthesized findings.
*   Structure your output *exactly* as the Markdown template provided for `repo-rt.md`.
*   If you need the full content of a file listed in section 7 of your report (or any other file not fully included), you will need to inform the user of the relative path, and they will provide you with a tool to fetch it.